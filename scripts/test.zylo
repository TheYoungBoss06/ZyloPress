// Test script - Run unit and E2E tests with ZPM
import { zpm } from 'zpm';

const runTests = async () => {
  console.log('Running unit tests...');
  try {
    await zpm.run('tests/unit-middleware.zylo');
    console.log('Unit tests passed');
  } catch (error) {
    console.error('Unit tests failed:', error.message);
    process.exit(1);
  }

  console.log('Running E2E tests...');
  try {
    await zpm.run('tests/e2e-routes.zylo');
    console.log('E2E tests passed');
  } catch (error) {
    console.error('E2E tests failed:', error.message);
    process.exit(1);
  }

  console.log('All tests passed!');
};

runTests();